<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e5e7eb;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        h1 { font-size: 2rem; color: #4ade80; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .card {
            background: rgba(22, 33, 62, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .card-label { font-size: 0.75rem; color: #9ca3af; margin-bottom: 6px; }
        .card-value { font-size: 1.8rem; font-weight: bold; }
        .card-value.blue { color: #60a5fa; }
        .card-value.green { color: #4ade80; }
        .card-value.purple { color: #a78bfa; }
        .card-value.yellow { color: #fbbf24; }
        .card-value.red { color: #f87171; }
        .card-context { font-size: 0.75rem; color: #9ca3af; margin-top: 6px; }
        .section {
            background: rgba(22, 33, 62, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .section-title { font-size: 1.1rem; margin-bottom: 12px; color: #e5e7eb; }
        .section-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
        .task-item {
            background: rgba(31, 41, 55, 0.6);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border-left: 3px solid #60a5fa;
        }
        .task-name { font-weight: 600; margin-bottom: 4px; font-size: 0.9rem; }
        .task-time { font-size: 0.75rem; color: #9ca3af; }
        .task-source { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; margin-left: 6px; }
        .task-source.notion { background: #ef4444; }
        .task-source.manual { background: #3b82f6; }
        .task-source.tracker { background: #10b981; }
        .progress-item { margin-bottom: 12px; }
        .progress-header { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 0.85rem; }
        .progress-bar { height: 6px; background: rgba(55, 65, 81, 0.5); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s; }
        .chart-container { display: flex; align-items: flex-end; height: 120px; gap: 8px; padding: 15px 0; position: relative; }
        .chart-bar { flex: 1; border-radius: 4px; position: relative; transition: height 0.5s; min-height: 5px; }
        .avg-line { position: absolute; border-top: 2px dashed #6b7280; width: 100%; z-index: 10; pointer-events: none; }
        .avg-label { position: absolute; right: 0; font-size: 0.7rem; color: #6b7280; transform: translateY(-100%); }
        .chart-labels { display: flex; justify-content: space-between; margin-top: 6px; font-size: 0.75rem; color: #9ca3af; }
        .loading { text-align: center; color: #9ca3af; padding: 20px; font-size: 0.85rem; }
        .status-indicator { display: inline-block; width: 8px; height: 8px; background: #4ade80; border-radius: 50%; margin-right: 6px; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .stat-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(75, 85, 99, 0.3); }
        .stat-row:last-child { border-bottom: none; }
        .stat-label { font-size: 0.85rem; color: #9ca3af; }
        .stat-value { font-weight: 600; }
        .mood-tracker { display: flex; gap: 10px; margin-top: 10px; }
        .mood-btn { flex: 1; padding: 10px; border: none; border-radius: 8px; cursor: pointer; font-size: 1.5rem; transition: transform 0.2s; background: rgba(55, 65, 81, 0.5); }
        .mood-btn:hover { transform: scale(1.1); }
        .gratitude-list { list-style: none; }
        .gratitude-list li { padding: 6px 0; font-size: 0.85rem; color: #9ca3af; }
        .gratitude-list li:before { content: "âœ¨ "; margin-right: 6px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>ğŸ¤– ìë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ</h1>
            </div>
            <div style="text-align: right;">
                <p style="color: #4ade80; font-weight: 600;"><span class="status-indicator"></span>ì˜¨ë¼ì¸</p>
                <p style="font-size: 0.75rem; color: #9ca3af;">KST (UTC+9)</p>
            </div>
        </div>

        <!-- ìƒíƒœ ì¹´ë“œ -->
        <div class="grid">
            <div class="card"><div class="card-label">ğŸ“‹ ì˜¤ëŠ˜ì˜ ì‘ì—…</div><div class="card-value blue" id="task-count">-</div></div>
            <div class="card"><div class="card-label">â±ï¸ ì´ ì‘ì—… ì‹œê°„</div><div class="card-value green" id="total-time">-</div></div>
            <div class="card"><div class="card-label">ğŸ’° íˆ¬ì ìˆ˜ìµë¥ </div><div class="card-value yellow" id="invest-return">-</div></div>
            <div class="card"><div class="card-label">ğŸƒ ì˜¤ëŠ˜ ìš´ë™</div><div class="card-value purple" id="exercise-time">-</div></div>
            <div class="card"><div class="card-label">ğŸ“– í•™ìŠµ ì‹œê°„</div><div class="card-value blue" id="study-time">-</div></div>
            <div class="card"><div class="card-label">âš¡ ì—ë„ˆì§€ ë ˆë²¨</div><div class="card-value red" id="energy-level">-</div></div>
            <div class="card"><div class="card-label">ğŸ¤– ìë™í™” ì‘ì—…</div><div class="card-value green" id="auto-tasks">-</div></div>
            <div class="card"><div class="card-label">ğŸ’§ ë¬¼ ì„­ì·¨ëŸ‰</div><div class="card-value purple" id="water-intake">-</div></div>
        </div>

        <!-- ì„¸ì…˜ ê·¸ë¦¬ë“œ -->
        <div class="section-grid">
            <!-- ì‘ì—… ëª©ë¡ -->
            <div class="section">
                <h2 class="section-title">ğŸ“‹ ì‘ì—… ëª©ë¡</h2>
                <div id="task-list"><div class="loading">ë¡œë”© ì¤‘...</div></div>
            </div>

            <!-- ëª©í‘œ ì§„í–‰ë¥  -->
            <div class="section">
                <h2 class="section-title">ğŸ¯ ëª©í‘œ ì§„í–‰ë¥ </h2>
                <div id="goal-list"><div class="loading">ë¡œë”© ì¤‘...</div></div>
            </div>

            <!-- ì£¼ê°„ ì‘ì—… ì‹œê°„ -->
            <div class="section">
                <h2 class="section-title">ğŸ“ˆ ì£¼ê°„ ì‘ì—… ì‹œê°„</h2>
                <div class="chart-container" id="weekly-chart"><div class="loading">ë¡œë”© ì¤‘...</div></div>
                <div class="chart-labels"><span>ì›”</span><span>í™”</span><span>ìˆ˜</span><span>ëª©</span><span>ê¸ˆ</span><span>í† </span><span>ì¼</span></div>
            </div>

            <!-- ì¬ë¬´ ìš”ì•½ -->
            <div class="section">
                <h2 class="section-title">ğŸ’° ì¬ë¬´ ìš”ì•½</h2>
                <div id="finance-summary">
                    <div class="stat-row"><span class="stat-label">í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜</span><span class="stat-value" id="portfolio-value">$0</span></div>
                    <div class="stat-row"><span class="stat-label">ì›” ìˆ˜ì…</span><span class="stat-value" id="monthly-income">$0</span></div>
                    <div class="stat-row"><span class="stat-label">ì›” ì§€ì¶œ</span><span class="stat-value" id="monthly-expense">$0</span></div>
                    <div class="stat-row"><span class="stat-label">ì €ì¶•ë¥ </span><span class="stat-value" id="savings-rate">0%</span></div>
                </div>
            </div>

            <!-- í•™ìŠµ ì¶”ì  -->
            <div class="section">
                <h2 class="section-title">ğŸ“š í•™ìŠµ ì¶”ì </h2>
                <div id="learning-summary">
                    <div class="stat-row"><span class="stat-label">ì˜¤ëŠ˜ ì½ì€ í˜ì´ì§€</span><span class="stat-value" id="pages-read">0p</span></div>
                    <div class="stat-row"><span class="stat-label">ì´ë²ˆ ë‹¬ ì±…</span><span class="stat-value" id="books-count">0ê¶Œ</span></div>
                    <div class="stat-row"><span class="stat-label">ìŠµë“í•œ ìŠ¤í‚¬</span><span class="stat-value" id="skills-count">0ê°œ</span></div>
                    <div class="stat-row"><span class="stat-label">ë…¸ì…˜ í˜ì´ì§€</span><span class="stat-value" id="notion-pages">0ê°œ</span></div>
                </div>
            </div>

            <!-- ê±´ê°• ìƒíƒœ -->
            <div class="section">
                <h2 class="section-title">ğŸ’ª ê±´ê°• ìƒíƒœ</h2>
                <div id="health-summary">
                    <div class="stat-row"><span class="stat-label">ëŸ¬ë‹ ê±°ë¦¬</span><span class="stat-value" id="running-distance">0km</span></div>
                    <div class="stat-row"><span class="stat-label">ìˆ˜ë©´ ì‹œê°„</span><span class="stat-value" id="sleep-hours">0h</span></div>
                    <div class="stat-row"><span class="stat-label">ì²´ì¤‘</span><span class="stat-value" id="weight">0kg</span></div>
                    <div class="stat-row"><span class="stat-label">Deep Work</span><span class="stat-value" id="deep-work">0h</span></div>
                </div>
            </div>

            <!-- ìë™í™” í˜„í™© -->
            <div class="section">
                <h2 class="section-title">ğŸ¤– ìë™í™” í˜„í™©</h2>
                <div id="automation-summary">
                    <div class="stat-row"><span class="stat-label">ìë™í™”ëœ ì‘ì—…</span><span class="stat-value" id="auto-task-count">0ê°œ</span></div>
                    <div class="stat-row"><span class="stat-label">ì‹œê°„ ì ˆì•½</span><span class="stat-value" id="time-saved">0h/ì£¼</span></div>
                    <div class="stat-row"><span class="stat-label">ì—ì´ì „íŠ¸ í™œë™</span><span class="stat-value" id="agent-activity">0íšŒ</span></div>
                    <div class="stat-row"><span class="stat-label">ë°°ì¹˜ ì„±ê³µë¥ </span><span class="stat-value" id="batch-success">0%</span></div>
                </div>
            </div>

            <!-- ì˜¤ëŠ˜ì˜ ê¸°ë¶„ -->
            <div class="section">
                <h2 class="section-title">ğŸ˜Š ì˜¤ëŠ˜ì˜ ê¸°ë¶„</h2>
                <div class="mood-tracker">
                    <button class="mood-btn" onclick="setMood('ğŸ˜')">ğŸ˜</button>
                    <button class="mood-btn" onclick="setMood('ğŸ˜')">ğŸ˜</button>
                    <button class="mood-btn" onclick="setMood('ğŸ™‚')">ğŸ™‚</button>
                    <button class="mood-btn" onclick="setMood('ğŸ˜Š')">ğŸ˜Š</button>
                    <button class="mood-btn" onclick="setMood('ğŸ¤©')">ğŸ¤©</button>
                </div>
                <p style="text-align: center; margin-top: 10px; font-size: 0.85rem; color: #9ca3af;" id="mood-text">ì„ íƒ ì•ˆ í•¨</p>
            </div>

            <!-- ê°ì‚¬ ì¼ê¸° -->
            <div class="section">
                <h2 class="section-title">ğŸ™ ê°ì‚¬ ì¼ê¸°</h2>
                <ul class="gratitude-list" id="gratitude-list">
                    <li>ê°€ì¡±ì˜ ê±´ê°•</li>
                    <li>ìƒˆë¡œìš´ ê¸°íšŒ</li>
                    <li>ë”°ëœ»í•œ ì»¤í”¼</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // ìƒ˜í”Œ ë°ì´í„° (í™•ì¥)
        const EXTENDED_DATA = {
            summary: { task_count: 5, total_minutes: 315 },
            tasks: [
                { name: 'ëŒ€ì‹œë³´ë“œ ê°œë°œ', start_time: '2026-02-03T09:00:00', end_time: '2026-02-03T10:30:00', duration_seconds: 5400, result: 'ì™„ë£Œ', source: 'notion' },
                { name: 'ë…¸ì…˜ ì •ë¦¬', start_time: '2026-02-03T10:45:00', end_time: '2026-02-03T11:30:00', duration_seconds: 2700, result: 'ì§„í–‰ ì¤‘', source: 'notion' },
                { name: 'íˆ¬ì ê³µë¶€', start_time: '2026-02-03T14:00:00', end_time: '2026-02-03T15:30:00', duration_seconds: 5400, result: 'ì™„ë£Œ', source: 'tracker' },
                { name: 'ê¸€ì“°ê¸°', start_time: '2026-02-03T16:00:00', end_time: '2026-02-03T17:00:00', duration_seconds: 3600, result: 'ì™„ë£Œ', source: 'manual' },
                { name: 'ëŸ¬ë‹', start_time: '2026-02-03T18:30:00', end_time: '2026-02-03T19:00:00', duration_seconds: 1800, result: 'ì™„ë£Œ', source: 'tracker' }
            ],
            goals: [
                { name: 'íˆ¬ì ìˆ˜ìµë¥ ', current_value: 40, target_value: 100, unit: '%' },
                { name: 'ì„œì  100ê¶Œ', current_value: 30, target_value: 100, unit: 'ê¶Œ' },
                { name: 'ìë™í™” ì‹œìŠ¤í…œ', current_value: 85, target_value: 100, unit: '%' },
                { name: 'ìš´ë™ 150ë¶„/ì£¼', current_value: 90, target_value: 150, unit: 'ë¶„' }
            ],
            weekly: [
                { date: '2026-01-29', minutes: 120 },
                { date: '2026-01-30', minutes: 180 },
                { date: '2026-01-31', minutes: 240 },
                { date: '2026-02-01', minutes: 150 },
                { date: '2026-02-02', minutes: 300 },
                { date: '2026-02-03', minutes: 315 },
                { date: '2026-02-04', minutes: 0 }
            ],
            // ì¶”ê°€ ë°ì´í„°
            finance: { portfolio_value: 50000, monthly_income: 8000, monthly_expense: 4500, savings_rate: 44 },
            learning: { pages_read: 45, books_count: 3, skills_count: 2, notion_pages: 12 },
            health: { running_distance: 5.2, sleep_hours: 7.5, weight: 72, deep_work: 3.5 },
            automation: { auto_task_count: 15, time_saved: 12, agent_activity: 47, batch_success: 98 },
            energy: { level: 7 },
            water: { intake: 1.8 }
        };

        function loadDashboard() {
            // ê¸°ë³¸ ë°ì´í„°
            document.getElementById('task-count').textContent = EXTENDED_DATA.summary.task_count + 'ê±´';
            document.getElementById('total-time').textContent = EXTENDED_DATA.summary.total_minutes + 'ë¶„';
            
            // ì¶”ê°€ ë°ì´í„°
            document.getElementById('invest-return').textContent = '+' + EXTENDED_DATA.finance.savings_rate + '%';
            document.getElementById('exercise-time').textContent = EXTENDED_DATA.health.running_distance + 'km';
            document.getElementById('study-time').textContent = EXTENDED_DATA.learning.pages_read + 'p';
            document.getElementById('energy-level').textContent = EXTENDED_DATA.energy.level + '/10';
            document.getElementById('auto-tasks').textContent = EXTENDED_DATA.automation.auto_task_count + 'ê°œ';
            document.getElementById('water-intake').textContent = EXTENDED_DATA.water.intake + 'L';

            // ì¬ë¬´
            document.getElementById('portfolio-value').textContent = '$' + EXTENDED_DATA.finance.portfolio_value.toLocaleString();
            document.getElementById('monthly-income').textContent = '$' + EXTENDED_DATA.finance.monthly_income.toLocaleString();
            document.getElementById('monthly-expense').textContent = '$' + EXTENDED_DATA.finance.monthly_expense.toLocaleString();
            document.getElementById('savings-rate').textContent = EXTENDED_DATA.finance.savings_rate + '%';

            // í•™ìŠµ
            document.getElementById('pages-read').textContent = EXTENDED_DATA.learning.pages_read + 'p';
            document.getElementById('books-count').textContent = EXTENDED_DATA.learning.books_count + 'ê¶Œ';
            document.getElementById('skills-count').textContent = EXTENDED_DATA.learning.skills_count + 'ê°œ';
            document.getElementById('notion-pages').textContent = EXTENDED_DATA.learning.notion_pages + 'ê°œ';

            // ê±´ê°•
            document.getElementById('running-distance').textContent = EXTENDED_DATA.health.running_distance + 'km';
            document.getElementById('sleep-hours').textContent = EXTENDED_DATA.health.sleep_hours + 'h';
            document.getElementById('weight').textContent = EXTENDED_DATA.health.weight + 'kg';
            document.getElementById('deep-work').textContent = EXTENDED_DATA.health.deep_work + 'h';

            // ìë™í™”
            document.getElementById('auto-task-count').textContent = EXTENDED_DATA.automation.auto_task_count + 'ê°œ';
            document.getElementById('time-saved').textContent = EXTENDED_DATA.automation.time_saved + 'h/ì£¼';
            document.getElementById('agent-activity').textContent = EXTENDED_DATA.automation.agent_activity + 'íšŒ';
            document.getElementById('batch-success').textContent = EXTENDED_DATA.automation.batch_success + '%';

            // ë Œë”ë§
            renderTasks(EXTENDED_DATA.tasks);
            renderGoals(EXTENDED_DATA.goals);
            renderWeekly(EXTENDED_DATA.weekly);
        }

        function renderTasks(tasks) {
            const container = document.getElementById('task-list');
            container.innerHTML = tasks.map(task => {
                const startTime = new Date(task.start_time);
                const endTime = new Date(task.end_time);
                const timeStr = `${startTime.getHours().toString().padStart(2, '0')}:${startTime.getMinutes().toString().padStart(2, '0')} - ${endTime.getHours().toString().padStart(2, '0')}:${endTime.getMinutes().toString().padStart(2, '0')}`;
                const duration = Math.floor(task.duration_seconds / 60);
                const sourceLabel = task.source === 'notion' ? 'ë…¸ì…˜' : (task.source === 'tracker' ? 'ì¶”ì ' : 'ìˆ˜ë™');
                return `<div class="task-item"><div class="task-name">${task.name}<span class="task-source ${task.source}">${sourceLabel}</span></div><div class="task-time">${timeStr} (${duration}ë¶„) ${task.result || ''}</div></div>`;
            }).join('');
        }

        function renderGoals(goals) {
            const container = document.getElementById('goal-list');
            container.innerHTML = goals.map(goal => {
                const percentage = Math.min((goal.current_value / goal.target_value) * 100, 100);
                let color, status;
                if (percentage >= 100) { color = '#4ade80'; status = 'ğŸ‰'; }
                else if (percentage >= 80) { color = '#60a5fa'; status = 'ğŸ‘'; }
                else if (percentage >= 50) { color = '#fbbf24'; status = 'âš ï¸'; }
                else { color = '#f87171'; status = 'ğŸš¨'; }
                return `<div class="progress-item"><div class="progress-header"><span>${status} ${goal.name}</span><span style="color: ${color};">${goal.current_value}${goal.unit || ''} / ${goal.target_value}${goal.unit || ''}</span></div><div class="progress-bar"><div class="progress-fill" style="width: ${percentage}%; background: ${color};"></div></div></div>`;
            }).join('');
        }

        function renderWeekly(weekly) {
            const container = document.getElementById('weekly-chart');
            const maxMinutes = Math.max(...weekly.map(d => d.minutes), 1);
            const avgMinutes = weekly.reduce((a, b) => a + b.minutes, 0) / 7;
            const avgTopPercent = 100 - (avgMinutes / maxMinutes * 100);
            let html = `<div class="avg-line" style="top: ${avgTopPercent}%;"></div>`;
            html += `<div class="avg-label" style="top: ${avgTopPercent}%; margin-top: -2px;">í‰ê·  ${Math.round(avgMinutes)}ë¶„</div>`;
            const maxVal = Math.max(...weekly.map(d => d.minutes));
            const colors = ['#3b82f6', '#60a5fa', '#3b82f6', '#60a5fa', '#3b82f6', '#4ade80', '#1f2937'];
            html += weekly.map((day, i) => {
                const height = (day.minutes / maxMinutes) * 100;
                const bg = day.minutes === maxVal ? '#4ade80' : colors[i % colors.length];
                return `<div class="chart-bar" style="height: ${Math.max(height, 5)}%; background: ${bg};"></div>`;
            }).join('');
            container.innerHTML = html;
        }

        function setMood(mood) {
            document.getElementById('mood-text').textContent = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„: ' + mood;
            document.querySelectorAll('.mood-btn').forEach(btn => btn.style.transform = 'scale(1)');
            event.target.style.transform = 'scale(1.2)';
        }

        loadDashboard();
        setInterval(loadDashboard, 30000);
    </script>
</body>
</html>
